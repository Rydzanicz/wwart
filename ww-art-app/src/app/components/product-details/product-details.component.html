<div class="product-details-container">
  <div class="breadcrumb">
    <a routerLink="/shop">Sklep</a> / {{ product.name }}
  </div>

  <div class="product-details-layout">
    <div class="product-description-section">
      <div class="product-image-container">
        <img [src]="product.image[0]" [alt]="product.name" class="product-main-image">
        <div class="image-caption">Zdjƒôcie poglƒÖdowe</div>
      </div>

      <div class="product-info">
        <div class="product-meta">
          <span class="product-category" *ngIf="product.category">{{ product.category }}</span>
          <span class="product-badge" *ngIf="product.badge">{{ product.badge }}</span>
        </div>

        <h1 class="product-title">{{ product.name }}</h1>

        <div class="product-rating" *ngIf="product.rating">
          <div class="rating-stars">
            <span class="material-icons"
                  *ngFor="let star of getRatingStars(product.rating)"
                  [class.filled]="star.filled">
              {{ star.filled ? 'star' : 'star_border' }}
            </span>
          </div>
          <span class="rating-text">({{ product.ratingCount }} opinii)</span>
        </div>

        <div class="pricing-section">
          <div class="price-current">{{ formatCurrency(product.price) }} PLN</div>
          <div class="price-original" *ngIf="product.originalPrice">
            {{ formatCurrency(product.originalPrice) }} PLN
          </div>
          <div class="savings" *ngIf="calculateSavings() > 0">
            Oszczƒôdzasz {{ formatCurrency(calculateSavings()) }} PLN!
          </div>
        </div>

        <div class="product-description">
          <h3>Opis produktu</h3>
          <p>{{ product.description }}</p>
          <p class="details">{{ product.descriptionDetails }}</p>
        </div>

        <div class="resin-process-info">
          <h3>Proces tworzenia z ≈ºywicy epoksydowej</h3>
          <div class="process-steps">
            <div class="process-step">
              <span class="step-number">1</span>
              <div class="step-content">
                <h4>Przygotowanie</h4>
                <p>Mieszanie ≈ºywicy epoksydowej z utwardzaczem oraz dodatkami kolorystycznymi</p>
              </div>
            </div>
            <div class="process-step">
              <span class="step-number">2</span>
              <div class="step-content">
                <h4>Formowanie</h4>
                <p>Wylewanie mieszanki do specjalnych form silikonowych</p>
              </div>
            </div>
            <div class="process-step">
              <span class="step-number">3</span>
              <div class="step-content">
                <h4>Utwardzanie</h4>
                <p>24-48 godzin procesu utwardzania w kontrolowanych warunkach</p>
              </div>
            </div>
            <div class="process-step">
              <span class="step-number">4</span>
              <div class="step-content">
                <h4>Wyka≈Ñczanie</h4>
                <p>Szlifowanie, polerowanie i monta≈º element√≥w jubilerskich</p>
              </div>
            </div>
          </div>
        </div>

        <div class="product-specs">
          <h3>Specyfikacja techniczna</h3>
          <div class="specs-grid">
            <div class="spec-item">
              <span class="spec-label">Materia≈Ç:</span>
              <span class="spec-value">≈ªywica epoksydowa wysokiej jako≈õci</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Waga:</span>
              <span class="spec-value">{{ product.weight }}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Wymiary:</span>
              <span class="spec-value">{{ product.dimensions }}</span>
            </div>
            <div class="spec-item">
              <span class="spec-label">Wyko≈Ñczenie:</span>
              <span class="spec-value">Polerowane rƒôcznie</span>
            </div>
          </div>
        </div>

        <div class="product-benefits">
          <h3>Dlaczego warto wybraƒá ten produkt?</h3>
          <ul>
            <li>‚ú® Unikalne wzory z ≈ºywicy epoksydowej</li>
            <li>üé® Rƒôczne wykonanie przez do≈õwiadczonych artyst√≥w</li>
            <li>üíé Wysokiej jako≈õci materia≈Çy odporne na uszkodzenia</li>
            <li>üõ°Ô∏è Trwa≈Ço≈õƒá na lata u≈ºytkowania</li>
            <li>üì¶ Eleganckie opakowanie prezentowe</li>
            <li>üöö Bezpieczna dostawa z ubezpieczeniem</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="product-order-section">
      <app-product-preview
        [product]="product">
      </app-product-preview>
    </div>
    <div class="product-order-section">
      <app-product-comments [productId]="product.id"></app-product-comments>
    </div>
  </div>
</div>
