<div class="product-preview-container">
  <div class="order-card">
    <h3>Zamów produkt</h3>

    <div class="option-group" *ngIf="availableShapes.length > 0">
      <label>Kształt:</label>
      <div class="shape-options">
        <button *ngFor="let shape of availableShapes"
                class="shape-btn"
                [class.selected]="selectedShape === shape.id"
                (click)="setSelectedShape(shape.id)">
          <img [src]="shape.image" [alt]="shape.name" class="shape-preview">
          <span class="shape-name">{{ shape.name }}</span>
        </button>
      </div>
    </div>

    <div class="option-group">
      <label>Rozmiar:</label>
      <div class="size-options">
        <button *ngFor="let size of availableSizes"
                class="size-btn"
                [class.selected]="selectedSize === size"
                (click)="selectedSize = size">
          {{ size }}
        </button>
      </div>
    </div>

    <div class="option-group">
      <label>Kolor:</label>
      <div class="color-options">
        <button *ngFor="let color of availableColors"
                class="color-btn"
                [class.selected]="selectedColor === color"
                (click)="selectedColor = color">
          {{ color }}
        </button>
      </div>
    </div>

    <div class="option-group">
      <label>Ilość:</label>
      <div class="quantity-controls">
        <button class="qty-btn" (click)="decreaseQuantity()" [disabled]="quantity <= 1">-</button>
        <span class="quantity-display">{{ quantity }}</span>
        <button class="qty-btn" (click)="increaseQuantity()">+</button>
      </div>
    </div>

    <div class="action-buttons">
      <button class="btn-add-to-cart" (click)="addToCart()">
        <span class="material-icons">shopping_cart</span>
        Dodaj do koszyka
      </button>
      <button class="btn-go-to-cart" (click)="goToCart()">
        Zobacz koszyk
      </button>
    </div>

    <div class="price-summary" *ngIf="product">
      <div class="total-price">
        Razem: {{ formatCurrency(getTotalPrice()) }} PLN
      </div>
    </div>
  </div>
</div>
